---
title: props資料由外傳內
date: 2024-12-26
tags: ["Vue3"]
---
## 直接寫給子元件值
1. 在子元件建立變數，並將這個變數寫在props(陣列)
2. 在父元件使用標籤方式寫子元件，並在標籤上使用v-bind綁定屬性
3. v-bind前面寫子元件要的參數，後面填要傳入的參數
```html
<div id="app">
  <alert :title="'modal的標題'"></alert>
</div>
```
```js
const app = Vue.createApp({})

app.component('alert',{
  props: ['title'],
  template: `
    <div class="alert alert-primary">{{ title }}</div>
  `
})

app.mount("#app");
```
`<alert :title="modalTitle"></alert>，口訣：前內後外`

-----------------------------------------------
## 從父元件傳給子元件
```html
<div id="app">
  <alert :title="modalTitle"></alert>
</div>
```
```js
const app = Vue.createApp({
  data(){
    return{
      modalTitle: "這是要給modal的標題"
    }
  }
})

app.component('alert',{
  props: ['title'],
  template: `
    <div class="alert alert-primary">{{ title }}</div>
  `
})

app.mount("#app");
```
`<alert :title="modalTitle"></alert>，口訣：前內後外`

-----------------------------------------------

## 單向數據流(錯誤示範)
```html
<div id="app">
  <alert :title="modalTitle"></alert>
</div>
```
```js
const app = Vue.createApp({
  data(){
    return{
      modalTitle: "這是要給modal的標題"
    }
  }
})

app.component('alert',{
  props: ['title'],
  template: `
    <div class="alert alert-primary">{{ title }}</div>
    <input type="text" v-model="title">
  `
  //當子元件上又有input去綁定v-model這個參數值，會發生錯誤
})

app.mount("#app");
```
-----------------------------------------------
## 命名限制(駝峰需轉成-)
```html
<div id="app">
  <!-- 如果props傳來的是駝峰，標籤就需轉成- -->
  <alert :title-name="modalTitle"></alert>
</div>
```
```js
const app = Vue.createApp({
  data(){
    return{
      modalTitle: "這是要給modal的標題"
    }
  }
})

app.component('alert',{
  //如果要使用駝峰名稱，標籤就需轉成-
  props: ['titleName'],
  template: `
    <div class="alert alert-primary">{{ titleName }}</div>
  `
})

app.mount("#app");
```
`因為html只能接受英文小寫`

-----------------------------------------------
## props傳進子元件的值(查看型別)
```html
<div id="app">
  <table-component value="300"></table-component> <!-- string -->
  <table-component :value="300"></table-component> <!-- number -->
  <table-component :value="price"></table-component> <!-- number -->
  <table-component :value="isStock"></table-component> <!-- boolean -->
</div>
```
```js
const app = Vue.createApp({
  data(){
    return{
      price: 300,
      isStock: false
    }
  }
})

app.component('table-component',{
  props: ['value','type'],
  template: `
    <table border>
      <thead>
        <tr>
          <td>傳入的值</td>
          <td>型別</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ value }}</td>
          <td>{{ typeof(value) }}</td>
        </tr>
      </tbody>
    </table>
  `
})

app.mount("#app");
```
`沒有使用v-bind屬性綁定傳值，不論傳入什麼都是字串`

-----------------------------------------------
## props傳進子元件的值(型別驗證，查看傳入的是不是函式)
```html
<div id="app">
  <table-component :props-a="fnA"></table-component>
</div>
```
#
```js
const app = Vue.createApp({
  data(){
    return{
      fnA: function(){ return "A" }
    }
  }
})

app.component('table-component',{
  props:{
    //對應html標籤上的v-bind:props-a: 要驗證的型別
    propsA: Function
  },
  template: `
    <table border>
      <thead>
        <tr>
          <td>傳入的值</td>
          <td>型別</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ propsA }}</td>
          <td>{{ typeof(propsA) }}</td>
        </tr>
      </tbody>
    </table>
  `
})

app.mount("#app");
```
-----------------------------------------------
## props傳進子元件的值(型別驗證，查看傳入的值是不是必填)
```html
<div id="app">
  <table-component :props-c="text"></table-component>
  <table-component :props-c="num"></table-component>
</div>
```
```js
const app = Vue.createApp({
  data(){
    return{
      text: "這是一個字串",
      num: 300
    }
  }
})

app.component('table-component',{
  props:{
    propsC: {
      type: String,
      required: true
    }
  },
  template: `
    <table border>
      <thead>
        <tr>
          <td>傳入的值</td>
          <td>型別</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ propsC }}</td>
          <td>{{ typeof(propsC) }}</td>
        </tr>
      </tbody>
    </table>
  `
})

app.mount("#app");
```
-----------------------------------------------
## props傳進子元件的值(型別驗證，給預設值)
```html
<div id="app">
  <table-component></table-component>
</div>
```
```js
const app = Vue.createApp({})

app.component('table-component',{
  props:{
    propsD: {
      type: Number,
      default: 300
    }
  },
  template: `
    <table border>
      <thead>
        <tr>
          <td>傳入的值</td>
          <td>型別</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ propsD }}</td>
          <td>{{ typeof(propsD) }}</td>
        </tr>
      </tbody>
    </table>
  `
})

app.mount("#app");
```
`props沒有傳值時，propsD會自動顯示預設值：300`